# Change: refactor-ugc-preview-runtime-alignment

## Why
当前 UGC 预览层与运行时能力存在差距，导致“需求 → 自动生成配置/代码 → 可运行”的端到端流程难以落地；同时需求描述本身缺少持久化能力，容易丢失。用户明确要求扩展通用能力，并强调不能对具体游戏做任何特殊处理。

## What Changes
- **需求持久化**：在 UGC Builder 状态中新增 `requirements`，保存编辑器内需求与测试流程，随保存/导入/导出持久化。
- **预览与运行对齐**：预览改为复用运行时容器/接口，且不保留旧 RenderPreview 兼容层。
- **手牌区动作钩子**：新增通用“操作按钮/动作钩子”配置，并支持“仅当前玩家生效”。
- **出牌区钩子禁用**：提供可配置的“禁止规则钩子/动作钩子”开关，默认关闭。
- **区域级背面渲染**：区域组件可强制“正/背面渲染模式”，并保留自动模式。
- **玩家数量推导**：通过玩家信息组件数量推导玩家数（+1 自己），并注入上下文。
- **需求驱动数据生成**：支持基于需求输入生成结构化数据集（非游戏特化）。
- **测试与文档**：完善端到端测试（需求输入→生成配置→预览/运行）与文档说明。

## Impact
- Affected specs: `ugc-prototype-builder`, `ugc-runtime`
- Affected code: UGC Builder 状态与存储、Preview/Runtime 容器、HandAreaSkeleton 及相关配置、AI 提示词与生成入口、E2E 测试

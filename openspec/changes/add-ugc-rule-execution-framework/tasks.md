## 1. Capability: 规则执行框架
- [ ] 1.1 定义执行框架输入/输出协议（DomainCore 契约 + 规则代码来源约束）
- [ ] 1.2 统一随机数与确定性要求（序列化、无副作用）
- [ ] 1.3 规则执行错误分类与最小日志格式

## 2. Capability: 通用组件骨架
- [ ] 2.1 组件动作钩子协议（按钮/动作 → DomainCore Command）
- [ ] 2.2 动作钩子启用/禁用开关（区域级）
- [ ] 2.3 背面渲染策略（区域级，不依赖游戏）
- [ ] 2.4 玩家数量推导策略（组件数量驱动）

## 3. Builder & Runtime 对齐
- [ ] 3.1 Builder：仅保留“提示词 → 外部 AI → 粘贴导入”入口（无手动代码编辑器）
- [ ] 3.2 Runtime：执行框架接入 DomainCore 规则代码
- [ ] 3.3 预览与运行统一入口（同一执行链路）

## 4. 文档与示例
- [ ] 4.1 更新 UGC 总览文档（强调“无游戏特化规则”）
- [ ] 4.2 增加规则代码输出约束模板（DomainCore 契约）

## 5. 测试
- [ ] 5.1 规则执行确定性测试（相同输入产生相同输出）
- [ ] 5.2 组件钩子启用/禁用行为测试
- [ ] 5.3 预览/运行一致性 E2E 测试

# 本文件为开发环境配置模板。复制为 .env 后填写实际值。
# 生产环境由 docker-compose.prod.yml 的 environment 覆盖数据库/Redis/端口等配置。

# 端口配置
VITE_DEV_PORT=5173
GAME_SERVER_PORT=18000
API_SERVER_PORT=18001

# 邮件服务配置 (可选 - 用于邮箱绑定功能)
# 使用 QQ 邮箱示例:
# 1. 登录 QQ 邮箱 - 设置 - 账户 - 开启 IMAP/SMTP 服务
# 2. 获取授权码（不是密码）
# 3. 填写下方配置

SMTP_HOST=smtp.qq.com
SMTP_PORT=465
SMTP_USER=your_email@qq.com
SMTP_PASS=your_authorization_code

# JWT 密钥 (生产环境必须修改)
JWT_SECRET=your-super-secret-key-change-in-production

# 单体部署下 game-server 反向代理目标（可选）
GAME_SERVER_PROXY_TARGET=http://127.0.0.1:18000

# 数据库连接（可选，默认 mongodb://localhost:27017/boardgame）
# 本地开发使用 localhost，Docker 会自动覆盖为 mongodb 容器名
MONGO_URI=mongodb://localhost:27017/boardgame

# 初始化管理员（仅开发/首次启动）
# ADMIN_EMAIL=
# ADMIN_PASSWORD=
# ADMIN_USERNAME=管理员

# 是否启用持久化存储（可选，默认 true，保持与生产一致）
# 如需在本地关闭（退回内存存储）可设为 false
# USE_PERSISTENT_STORAGE=false

# Redis 缓存（可选）
# 本地开发：注释掉这两行，使用内存缓存
# Docker 部署：会自动覆盖为 redis 容器名
# REDIS_HOST=localhost
# REDIS_PORT=6379

# 前端认证 API 地址（可选，留空走 Vite 代理 /auth）
# 本地开发和 Docker 同域部署均无需配置，仅 Pages 分离部署才需要
# VITE_AUTH_API_URL=http://127.0.0.1:18001/auth

# 前端游戏服务地址（可选）
# 开发环境建议留空（走 Vite 代理，避免 CORS）
VITE_GAME_SERVER_URL=

# 前端资源基址（可选，默认 /assets，可配置为独立域名或对象存储）
# 本地部署：不配置此项，资源从服务器 /assets 加载（已打包进镜像）
# 对象存储：配置为 R2/OSS/COS 的公开访问域名
# VITE_ASSETS_BASE_URL=https://assets.example.com

# UGC 资源基址（可选，默认 /assets）
# 用于拼接 UGC 包的 rules/view 入口路径
# VITE_UGC_ASSET_BASE_URL=https://ugc-assets.example.com

# 跨域白名单 (用于生产环境分离部署，多个地址用逗号隔开)
# WEB_ORIGINS=https://your-project.pages.dev,http://localhost:5173

# ========== Cloudflare Pages 分离部署配置 ==========
# 前端部署到 Pages，后端部署到服务器时，需要配置：
# 
# 1. 前端构建时（Pages 环境变量）：
#    VITE_BACKEND_URL=https://api.yourdomain.com
# 
# 2. 后端 .env（服务器）：
#    WEB_ORIGINS=https://your-project.pages.dev
#    (允许 Pages 域名跨域访问)

# ========== 第三方监控配置 ==========
VITE_SENTRY_DSN=
SENTRY_DSN=

# ========== E2E 测试配置 ==========
# 测试 API 基础 URL（默认 http://localhost:18001）
TEST_API_BASE=http://localhost:18001

# 测试 API 认证令牌（测试环境必须配置）
TEST_API_TOKEN=test-token-12345
